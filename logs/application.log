2025-04-28T14:13:08.638+01:00  INFO 37256 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 37256 (C:\Users\Administrator\Desktop\brd - 副本 (2)\target\classes started by Administrator in C:\Users\Administrator\Desktop\brd - 副本 (2))
2025-04-28T14:13:08.638+01:00 DEBUG 37256 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T14:13:08.639+01:00  INFO 37256 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T14:13:09.210+01:00  INFO 37256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T14:13:09.262+01:00  INFO 37256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2025-04-28T14:13:09.344+01:00  WARN 37256 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:13:09.344+01:00  WARN 37256 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:13:09.344+01:00  WARN 37256 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:13:09.344+01:00  WARN 37256 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:13:09.344+01:00  WARN 37256 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:13:09.344+01:00  WARN 37256 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:13:09.344+01:00  WARN 37256 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:13:09.345+01:00  WARN 37256 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T14:13:09.665+01:00  INFO 37256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T14:13:09.675+01:00  INFO 37256 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T14:13:09.675+01:00  INFO 37256 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T14:13:09.714+01:00  INFO 37256 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T14:13:09.715+01:00  INFO 37256 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1036 ms
2025-04-28T14:13:09.758+01:00 DEBUG 37256 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T14:13:09.829+01:00  INFO 37256 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T14:13:09.859+01:00  INFO 37256 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T14:13:09.879+01:00  INFO 37256 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T14:13:10.065+01:00  INFO 37256 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T14:13:10.088+01:00  INFO 37256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T14:13:10.354+01:00  INFO 37256 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c190cfc
2025-04-28T14:13:10.355+01:00  INFO 37256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T14:13:10.436+01:00  WARN 37256 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T14:13:10.438+01:00  WARN 37256 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T14:13:10.448+01:00  INFO 37256 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T14:13:10.907+01:00  INFO 37256 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T14:13:10.908+01:00  INFO 37256 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:13:11.314+01:00  INFO 37256 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T14:13:11.314+01:00  INFO 37256 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T14:13:11.799+01:00  WARN 37256 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T14:13:11.808+01:00  WARN 37256 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 71d8d767-1752-4066-8be2-734734418b00

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T14:13:11.822+01:00  INFO 37256 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T14:13:12.120+01:00  WARN 37256 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T14:13:12.155+01:00  INFO 37256 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T14:13:12.162+01:00  INFO 37256 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T14:13:12.162+01:00  INFO 37256 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T14:13:12.163+01:00  INFO 37256 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T14:13:12.163+01:00  INFO 37256 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T14:13:12.163+01:00  INFO 37256 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T14:13:12.163+01:00  INFO 37256 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T14:13:12.163+01:00  INFO 37256 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@3d49b00e
2025-04-28T14:13:12.196+01:00  INFO 37256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T14:13:12.198+01:00  INFO 37256 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T14:13:12.198+01:00  INFO 37256 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T14:13:12.202+01:00  INFO 37256 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 3.882 seconds (process running for 4.247)
2025-04-28T14:13:34.740+01:00  INFO 37256 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:13:34.741+01:00  INFO 37256 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T14:13:34.744+01:00  INFO 37256 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T14:13:34.745+01:00  INFO 37256 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T14:13:34.745+01:00  INFO 37256 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T14:13:34.745+01:00  INFO 37256 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:13:34.745+01:00  INFO 37256 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T14:13:34.747+01:00  INFO 37256 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:13:34.748+01:00  INFO 37256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-28T14:13:34.753+01:00  INFO 37256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-28T14:15:45.483+01:00  INFO 4844 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 4844 (C:\Users\Administrator\Desktop\brd - 副本 (2)\target\classes started by Administrator in C:\Users\Administrator\Desktop\brd - 副本 (2))
2025-04-28T14:15:45.484+01:00 DEBUG 4844 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T14:15:45.484+01:00  INFO 4844 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T14:15:45.978+01:00  INFO 4844 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T14:15:46.031+01:00  INFO 4844 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2025-04-28T14:15:46.116+01:00  WARN 4844 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:15:46.116+01:00  WARN 4844 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:15:46.116+01:00  WARN 4844 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:15:46.116+01:00  WARN 4844 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:15:46.116+01:00  WARN 4844 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:15:46.116+01:00  WARN 4844 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:15:46.116+01:00  WARN 4844 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:15:46.116+01:00  WARN 4844 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T14:15:46.392+01:00  INFO 4844 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T14:15:46.402+01:00  INFO 4844 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T14:15:46.402+01:00  INFO 4844 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T14:15:46.437+01:00  INFO 4844 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T14:15:46.437+01:00  INFO 4844 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 922 ms
2025-04-28T14:15:46.475+01:00 DEBUG 4844 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T14:15:46.544+01:00  INFO 4844 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T14:15:46.575+01:00  INFO 4844 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T14:15:46.596+01:00  INFO 4844 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T14:15:46.785+01:00  INFO 4844 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T14:15:46.805+01:00  INFO 4844 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T14:15:47.103+01:00  INFO 4844 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3578a45b
2025-04-28T14:15:47.104+01:00  INFO 4844 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T14:15:47.184+01:00  WARN 4844 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T14:15:47.187+01:00  WARN 4844 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T14:15:47.198+01:00  INFO 4844 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T14:15:47.687+01:00  INFO 4844 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T14:15:47.690+01:00  INFO 4844 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:15:48.076+01:00  INFO 4844 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T14:15:48.076+01:00  INFO 4844 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T14:15:48.627+01:00  WARN 4844 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T14:15:48.638+01:00  WARN 4844 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 8345f701-f55e-4abf-a030-0530bdb85e79

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T14:15:48.655+01:00  INFO 4844 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T14:15:48.996+01:00  WARN 4844 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T14:15:49.035+01:00  INFO 4844 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T14:15:49.043+01:00  INFO 4844 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T14:15:49.043+01:00  INFO 4844 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T14:15:49.043+01:00  INFO 4844 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T14:15:49.044+01:00  INFO 4844 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T14:15:49.044+01:00  INFO 4844 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T14:15:49.044+01:00  INFO 4844 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T14:15:49.044+01:00  INFO 4844 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@6bcc277a
2025-04-28T14:15:49.077+01:00  INFO 4844 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T14:15:49.078+01:00  INFO 4844 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T14:15:49.078+01:00  INFO 4844 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T14:15:49.082+01:00  INFO 4844 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 3.937 seconds (process running for 4.348)
2025-04-28T14:15:55.816+01:00  INFO 4844 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-28T14:15:55.816+01:00  INFO 4844 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-28T14:15:55.817+01:00  INFO 4844 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-04-28T14:15:55.831+01:00 DEBUG 4844 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T14:16:15.015+01:00 DEBUG 4844 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:16:15.016+01:00 DEBUG 4844 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:16:25.160+01:00 DEBUG 4844 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:16:25.160+01:00 DEBUG 4844 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:16:26.150+01:00 DEBUG 4844 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:16:26.150+01:00 DEBUG 4844 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:16:26.896+01:00 DEBUG 4844 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:16:26.896+01:00 DEBUG 4844 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:16:27.648+01:00 DEBUG 4844 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:16:27.649+01:00 DEBUG 4844 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:16:30.979+01:00 DEBUG 4844 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:16:30.979+01:00 DEBUG 4844 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:16:31.063+01:00 ERROR 4844 --- [http-nio-8080-exec-10] u.a.n.t.controller.LoanController        : Error getting current loans: class uk.ac.ncl.team5project.model.vo.UserInfoVO cannot be cast to class uk.ac.ncl.team5project.entity.User (uk.ac.ncl.team5project.model.vo.UserInfoVO and uk.ac.ncl.team5project.entity.User are in unnamed module of loader 'app')
2025-04-28T14:16:31.748+01:00 DEBUG 4844 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:16:31.748+01:00 DEBUG 4844 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:16:31.818+01:00 ERROR 4844 --- [http-nio-8080-exec-2] u.a.n.t.controller.LoanController        : Error getting current loans: class uk.ac.ncl.team5project.model.vo.UserInfoVO cannot be cast to class uk.ac.ncl.team5project.entity.User (uk.ac.ncl.team5project.model.vo.UserInfoVO and uk.ac.ncl.team5project.entity.User are in unnamed module of loader 'app')
2025-04-28T14:16:43.731+01:00 DEBUG 4844 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:16:43.731+01:00 DEBUG 4844 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:16:58.142+01:00 DEBUG 4844 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:16:58.142+01:00 DEBUG 4844 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:17:04.084+01:00 DEBUG 4844 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:17:04.084+01:00 DEBUG 4844 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:17:19.608+01:00 DEBUG 4844 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:17:19.608+01:00 DEBUG 4844 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:18:22.122+01:00 DEBUG 4844 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:18:22.123+01:00 DEBUG 4844 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:18:22.196+01:00 ERROR 4844 --- [http-nio-8080-exec-2] u.a.n.t.controller.LoanController        : Error getting current loans: class uk.ac.ncl.team5project.model.vo.UserInfoVO cannot be cast to class uk.ac.ncl.team5project.entity.User (uk.ac.ncl.team5project.model.vo.UserInfoVO and uk.ac.ncl.team5project.entity.User are in unnamed module of loader 'app')
2025-04-28T14:18:22.679+01:00 DEBUG 4844 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:18:22.679+01:00 DEBUG 4844 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:18:22.751+01:00 ERROR 4844 --- [http-nio-8080-exec-1] u.a.n.t.controller.LoanController        : Error getting current loans: class uk.ac.ncl.team5project.model.vo.UserInfoVO cannot be cast to class uk.ac.ncl.team5project.entity.User (uk.ac.ncl.team5project.model.vo.UserInfoVO and uk.ac.ncl.team5project.entity.User are in unnamed module of loader 'app')
2025-04-28T14:18:23.179+01:00 DEBUG 4844 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:18:23.179+01:00 DEBUG 4844 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:18:23.249+01:00 ERROR 4844 --- [http-nio-8080-exec-8] u.a.n.t.controller.LoanController        : Error getting current loans: class uk.ac.ncl.team5project.model.vo.UserInfoVO cannot be cast to class uk.ac.ncl.team5project.entity.User (uk.ac.ncl.team5project.model.vo.UserInfoVO and uk.ac.ncl.team5project.entity.User are in unnamed module of loader 'app')
2025-04-28T14:18:24.903+01:00 DEBUG 4844 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:18:24.903+01:00 DEBUG 4844 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:18:24.988+01:00 ERROR 4844 --- [http-nio-8080-exec-5] u.a.n.t.controller.LoanController        : Error getting current loans: class uk.ac.ncl.team5project.model.vo.UserInfoVO cannot be cast to class uk.ac.ncl.team5project.entity.User (uk.ac.ncl.team5project.model.vo.UserInfoVO and uk.ac.ncl.team5project.entity.User are in unnamed module of loader 'app')
2025-04-28T14:18:25.471+01:00 DEBUG 4844 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:18:25.471+01:00 DEBUG 4844 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:18:25.524+01:00 ERROR 4844 --- [http-nio-8080-exec-6] u.a.n.t.controller.LoanController        : Error getting current loans: class uk.ac.ncl.team5project.model.vo.UserInfoVO cannot be cast to class uk.ac.ncl.team5project.entity.User (uk.ac.ncl.team5project.model.vo.UserInfoVO and uk.ac.ncl.team5project.entity.User are in unnamed module of loader 'app')
2025-04-28T14:18:50.281+01:00 DEBUG 4844 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:18:50.281+01:00 DEBUG 4844 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:19:09.134+01:00 DEBUG 4844 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:19:09.134+01:00 DEBUG 4844 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:19:21.402+01:00 DEBUG 4844 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:19:21.402+01:00 DEBUG 4844 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:24:18.498+01:00 DEBUG 4844 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:24:18.498+01:00 DEBUG 4844 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:24:33.499+01:00 DEBUG 4844 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:24:33.499+01:00 DEBUG 4844 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:24:46.017+01:00 DEBUG 4844 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:24:46.017+01:00 DEBUG 4844 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:28:01.762+01:00  INFO 4844 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:28:01.763+01:00  INFO 4844 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T14:28:01.766+01:00  INFO 4844 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T14:28:01.767+01:00  INFO 4844 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T14:28:01.768+01:00  INFO 4844 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T14:28:01.768+01:00  INFO 4844 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:28:01.768+01:00  INFO 4844 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T14:28:01.769+01:00  INFO 4844 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:28:01.770+01:00  INFO 4844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-28T14:28:01.774+01:00  INFO 4844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-28T14:33:18.036+01:00  INFO 32872 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 32872 (C:\Users\Administrator\Desktop\brd - 副本 (2)\target\classes started by Administrator in C:\Users\Administrator\Desktop\brd - 副本 (2))
2025-04-28T14:33:18.037+01:00 DEBUG 32872 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T14:33:18.037+01:00  INFO 32872 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T14:33:18.672+01:00  INFO 32872 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T14:33:18.721+01:00  INFO 32872 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2025-04-28T14:33:18.792+01:00  WARN 32872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:33:18.792+01:00  WARN 32872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:33:18.792+01:00  WARN 32872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:33:18.792+01:00  WARN 32872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:33:18.792+01:00  WARN 32872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:33:18.792+01:00  WARN 32872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:33:18.792+01:00  WARN 32872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:33:18.793+01:00  WARN 32872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T14:33:19.058+01:00  INFO 32872 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T14:33:19.066+01:00  INFO 32872 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T14:33:19.067+01:00  INFO 32872 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T14:33:19.103+01:00  INFO 32872 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T14:33:19.103+01:00  INFO 32872 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1037 ms
2025-04-28T14:33:19.140+01:00 DEBUG 32872 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T14:33:19.211+01:00  INFO 32872 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T14:33:19.249+01:00  INFO 32872 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T14:33:19.277+01:00  INFO 32872 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T14:33:19.452+01:00  INFO 32872 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T14:33:19.470+01:00  INFO 32872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T14:33:19.741+01:00  INFO 32872 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@a6dffdb
2025-04-28T14:33:19.743+01:00  INFO 32872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T14:33:19.825+01:00  WARN 32872 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T14:33:19.827+01:00  WARN 32872 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T14:33:19.837+01:00  INFO 32872 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T14:33:20.292+01:00  INFO 32872 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T14:33:20.294+01:00  INFO 32872 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:33:20.645+01:00  INFO 32872 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T14:33:20.645+01:00  INFO 32872 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T14:33:21.170+01:00  WARN 32872 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T14:33:21.180+01:00  WARN 32872 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: a435d04a-e7fd-40b4-adcf-dd7cc5e63abf

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T14:33:21.196+01:00  INFO 32872 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T14:33:21.515+01:00  WARN 32872 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T14:33:21.546+01:00  INFO 32872 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T14:33:21.553+01:00  INFO 32872 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T14:33:21.553+01:00  INFO 32872 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T14:33:21.554+01:00  INFO 32872 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T14:33:21.554+01:00  INFO 32872 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T14:33:21.554+01:00  INFO 32872 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T14:33:21.554+01:00  INFO 32872 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T14:33:21.555+01:00  INFO 32872 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@8d0dcd9
2025-04-28T14:33:21.584+01:00  INFO 32872 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T14:33:21.585+01:00  INFO 32872 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T14:33:21.585+01:00  INFO 32872 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T14:33:21.589+01:00  INFO 32872 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 3.886 seconds (process running for 4.272)
2025-04-28T14:33:35.454+01:00  INFO 32872 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-28T14:33:35.454+01:00  INFO 32872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-28T14:33:35.455+01:00  INFO 32872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-04-28T14:33:35.470+01:00 DEBUG 32872 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T14:33:55.001+01:00 DEBUG 32872 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:33:55.001+01:00 DEBUG 32872 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:33:55.060+01:00  INFO 32872 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 3
2025-04-28T14:33:55.437+01:00  WARN 32872 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000
2025-04-28T14:33:55.437+01:00 ERROR 32872 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 3' at line 1
2025-04-28T14:33:55.492+01:00 ERROR 32872 --- [http-nio-8080-exec-2] u.a.n.t.controller.LoanController        : Error returning book: JDBC exception executing SQL [SELECT * FROM "USER_BOOK" WHERE id = ?] [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 3' at line 1] [n/a]; SQL [n/a]
2025-04-28T14:34:02.526+01:00 DEBUG 32872 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:34:02.526+01:00 DEBUG 32872 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:34:02.579+01:00  INFO 32872 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 1
2025-04-28T14:34:02.610+01:00  WARN 32872 --- [http-nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000
2025-04-28T14:34:02.610+01:00 ERROR 32872 --- [http-nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 1' at line 1
2025-04-28T14:34:02.671+01:00 ERROR 32872 --- [http-nio-8080-exec-5] u.a.n.t.controller.LoanController        : Error returning book: JDBC exception executing SQL [SELECT * FROM "USER_BOOK" WHERE id = ?] [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 1' at line 1] [n/a]; SQL [n/a]
2025-04-28T14:34:06.551+01:00 DEBUG 32872 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:34:06.551+01:00 DEBUG 32872 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:34:06.604+01:00  INFO 32872 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 1
2025-04-28T14:34:06.635+01:00  WARN 32872 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000
2025-04-28T14:34:06.635+01:00 ERROR 32872 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 1' at line 1
2025-04-28T14:34:06.695+01:00 ERROR 32872 --- [http-nio-8080-exec-6] u.a.n.t.controller.LoanController        : Error returning book: JDBC exception executing SQL [SELECT * FROM "USER_BOOK" WHERE id = ?] [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 1' at line 1] [n/a]; SQL [n/a]
2025-04-28T14:34:12.231+01:00 DEBUG 32872 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:34:12.231+01:00 DEBUG 32872 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:34:12.271+01:00  INFO 32872 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 3
2025-04-28T14:34:12.302+01:00  WARN 32872 --- [http-nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000
2025-04-28T14:34:12.302+01:00 ERROR 32872 --- [http-nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 3' at line 1
2025-04-28T14:34:12.363+01:00 ERROR 32872 --- [http-nio-8080-exec-7] u.a.n.t.controller.LoanController        : Error returning book: JDBC exception executing SQL [SELECT * FROM "USER_BOOK" WHERE id = ?] [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 3' at line 1] [n/a]; SQL [n/a]
2025-04-28T14:34:16.925+01:00 DEBUG 32872 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:34:16.926+01:00 DEBUG 32872 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:34:16.981+01:00  INFO 32872 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 4
2025-04-28T14:34:16.998+01:00  WARN 32872 --- [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000
2025-04-28T14:34:16.998+01:00 ERROR 32872 --- [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 4' at line 1
2025-04-28T14:34:17.056+01:00 ERROR 32872 --- [http-nio-8080-exec-8] u.a.n.t.controller.LoanController        : Error returning book: JDBC exception executing SQL [SELECT * FROM "USER_BOOK" WHERE id = ?] [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 4' at line 1] [n/a]; SQL [n/a]
2025-04-28T14:34:21.374+01:00 DEBUG 32872 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:34:21.374+01:00 DEBUG 32872 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:34:21.426+01:00  INFO 32872 --- [http-nio-8080-exec-9] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 1
2025-04-28T14:34:21.458+01:00  WARN 32872 --- [http-nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000
2025-04-28T14:34:21.458+01:00 ERROR 32872 --- [http-nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 1' at line 1
2025-04-28T14:34:21.535+01:00 ERROR 32872 --- [http-nio-8080-exec-9] u.a.n.t.controller.LoanController        : Error returning book: JDBC exception executing SQL [SELECT * FROM "USER_BOOK" WHERE id = ?] [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 1' at line 1] [n/a]; SQL [n/a]
2025-04-28T14:34:23.840+01:00 DEBUG 32872 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:34:23.840+01:00 DEBUG 32872 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:34:33.874+01:00 DEBUG 32872 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:34:33.875+01:00 DEBUG 32872 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:34:40.296+01:00 DEBUG 32872 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:34:40.296+01:00 DEBUG 32872 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:34:44.875+01:00 DEBUG 32872 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:34:44.876+01:00 DEBUG 32872 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:35:09.257+01:00 DEBUG 32872 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:35:09.257+01:00 DEBUG 32872 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:35:11.741+01:00 DEBUG 32872 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:35:11.741+01:00 DEBUG 32872 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:35:17.175+01:00 DEBUG 32872 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:35:17.175+01:00 DEBUG 32872 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:35:17.229+01:00  INFO 32872 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 1
2025-04-28T14:35:17.260+01:00  WARN 32872 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000
2025-04-28T14:35:17.260+01:00 ERROR 32872 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 1' at line 1
2025-04-28T14:35:17.322+01:00 ERROR 32872 --- [http-nio-8080-exec-6] u.a.n.t.controller.LoanController        : Error returning book: JDBC exception executing SQL [SELECT * FROM "USER_BOOK" WHERE id = ?] [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"USER_BOOK" WHERE id = 1' at line 1] [n/a]; SQL [n/a]
2025-04-28T14:35:36.386+01:00  INFO 32872 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:35:36.387+01:00  INFO 32872 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T14:35:36.389+01:00  INFO 32872 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T14:35:36.390+01:00  INFO 32872 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T14:35:36.390+01:00  INFO 32872 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T14:35:36.390+01:00  INFO 32872 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:35:36.390+01:00  INFO 32872 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T14:35:36.391+01:00  INFO 32872 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:35:36.393+01:00  INFO 32872 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-28T14:35:36.399+01:00  INFO 32872 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-28T14:37:16.107+01:00  INFO 35336 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 35336 (C:\Users\Administrator\Desktop\brd - 副本 (2)\target\classes started by Administrator in C:\Users\Administrator\Desktop\brd - 副本 (2))
2025-04-28T14:37:16.109+01:00 DEBUG 35336 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T14:37:16.109+01:00  INFO 35336 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T14:37:16.581+01:00  INFO 35336 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T14:37:16.624+01:00  INFO 35336 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2025-04-28T14:37:16.713+01:00  WARN 35336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:37:16.713+01:00  WARN 35336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:37:16.713+01:00  WARN 35336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:37:16.713+01:00  WARN 35336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:37:16.713+01:00  WARN 35336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:37:16.713+01:00  WARN 35336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:37:16.713+01:00  WARN 35336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:37:16.713+01:00  WARN 35336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T14:37:17.001+01:00  INFO 35336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T14:37:17.011+01:00  INFO 35336 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T14:37:17.012+01:00  INFO 35336 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T14:37:17.051+01:00  INFO 35336 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T14:37:17.051+01:00  INFO 35336 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 916 ms
2025-04-28T14:37:17.089+01:00 DEBUG 35336 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T14:37:17.168+01:00  INFO 35336 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T14:37:17.202+01:00  INFO 35336 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T14:37:17.224+01:00  INFO 35336 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T14:37:17.416+01:00  INFO 35336 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T14:37:17.439+01:00  INFO 35336 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T14:37:17.711+01:00  INFO 35336 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f4d2294
2025-04-28T14:37:17.712+01:00  INFO 35336 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T14:37:17.792+01:00  WARN 35336 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T14:37:17.794+01:00  WARN 35336 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T14:37:17.804+01:00  INFO 35336 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T14:37:18.259+01:00  INFO 35336 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T14:37:18.261+01:00  INFO 35336 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:37:18.633+01:00  INFO 35336 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T14:37:18.633+01:00  INFO 35336 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T14:37:19.182+01:00  WARN 35336 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T14:37:19.194+01:00  WARN 35336 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 9370f61d-ef0e-459b-ac90-97a7183a66d2

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T14:37:19.208+01:00  INFO 35336 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T14:37:19.549+01:00  WARN 35336 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T14:37:19.581+01:00  INFO 35336 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T14:37:19.588+01:00  INFO 35336 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T14:37:19.588+01:00  INFO 35336 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T14:37:19.589+01:00  INFO 35336 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T14:37:19.589+01:00  INFO 35336 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T14:37:19.589+01:00  INFO 35336 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T14:37:19.589+01:00  INFO 35336 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T14:37:19.589+01:00  INFO 35336 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@aa9c6b2
2025-04-28T14:37:19.618+01:00  INFO 35336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T14:37:19.619+01:00  INFO 35336 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T14:37:19.620+01:00  INFO 35336 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T14:37:19.624+01:00  INFO 35336 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 3.814 seconds (process running for 4.235)
2025-04-28T14:37:42.059+01:00  INFO 35336 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-28T14:37:42.059+01:00  INFO 35336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-28T14:37:42.060+01:00  INFO 35336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-04-28T14:37:42.108+01:00 DEBUG 35336 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:37:42.110+01:00 DEBUG 35336 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:37:42.171+01:00  INFO 35336 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 1
2025-04-28T14:37:42.250+01:00  INFO 35336 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 1
2025-04-28T14:37:47.875+01:00 DEBUG 35336 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:37:47.875+01:00 DEBUG 35336 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:37:51.046+01:00 DEBUG 35336 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:37:51.047+01:00 DEBUG 35336 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:37:57.489+01:00 DEBUG 35336 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:37:57.489+01:00 DEBUG 35336 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:37:57.574+01:00  INFO 35336 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:37:57.604+01:00  INFO 35336 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:38:55.346+01:00 DEBUG 35336 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:38:55.346+01:00 DEBUG 35336 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:38:55.385+01:00  INFO 35336 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:38:55.417+01:00  INFO 35336 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:38:56.060+01:00 DEBUG 35336 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:38:56.061+01:00 DEBUG 35336 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:38:56.129+01:00  INFO 35336 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:38:56.160+01:00  INFO 35336 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:38:56.616+01:00 DEBUG 35336 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:38:56.617+01:00 DEBUG 35336 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:38:56.656+01:00  INFO 35336 --- [http-nio-8080-exec-4] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:38:56.679+01:00  INFO 35336 --- [http-nio-8080-exec-4] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:38:57.184+01:00 DEBUG 35336 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:38:57.185+01:00 DEBUG 35336 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:38:57.222+01:00  INFO 35336 --- [http-nio-8080-exec-9] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:38:57.277+01:00  INFO 35336 --- [http-nio-8080-exec-9] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:38:57.633+01:00 DEBUG 35336 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:38:57.634+01:00 DEBUG 35336 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:38:57.651+01:00  INFO 35336 --- [http-nio-8080-exec-10] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:38:57.687+01:00  INFO 35336 --- [http-nio-8080-exec-10] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:38:58.080+01:00 DEBUG 35336 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:38:58.080+01:00 DEBUG 35336 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:38:58.119+01:00  INFO 35336 --- [http-nio-8080-exec-1] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:38:58.151+01:00  INFO 35336 --- [http-nio-8080-exec-1] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:38:58.832+01:00 DEBUG 35336 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:38:58.833+01:00 DEBUG 35336 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:38:58.888+01:00  INFO 35336 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:38:58.920+01:00  INFO 35336 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:38:59.419+01:00 DEBUG 35336 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:38:59.419+01:00 DEBUG 35336 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:38:59.460+01:00  INFO 35336 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:38:59.492+01:00  INFO 35336 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:00.041+01:00 DEBUG 35336 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:00.042+01:00 DEBUG 35336 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:00.081+01:00  INFO 35336 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:00.128+01:00  INFO 35336 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:00.596+01:00 DEBUG 35336 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:00.596+01:00 DEBUG 35336 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:00.635+01:00  INFO 35336 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:00.665+01:00  INFO 35336 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:01.195+01:00 DEBUG 35336 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:01.196+01:00 DEBUG 35336 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:01.212+01:00  INFO 35336 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:01.250+01:00  INFO 35336 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:01.876+01:00 DEBUG 35336 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:01.876+01:00 DEBUG 35336 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:01.914+01:00  INFO 35336 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:01.947+01:00  INFO 35336 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:02.388+01:00 DEBUG 35336 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:02.388+01:00 DEBUG 35336 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:02.404+01:00  INFO 35336 --- [http-nio-8080-exec-4] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:02.442+01:00  INFO 35336 --- [http-nio-8080-exec-4] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:02.972+01:00 DEBUG 35336 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:02.972+01:00 DEBUG 35336 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:02.989+01:00  INFO 35336 --- [http-nio-8080-exec-9] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:03.028+01:00  INFO 35336 --- [http-nio-8080-exec-9] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:03.604+01:00 DEBUG 35336 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:03.604+01:00 DEBUG 35336 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:03.675+01:00  INFO 35336 --- [http-nio-8080-exec-10] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:03.723+01:00  INFO 35336 --- [http-nio-8080-exec-10] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:17.641+01:00 DEBUG 35336 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:17.641+01:00 DEBUG 35336 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:17.679+01:00  INFO 35336 --- [http-nio-8080-exec-1] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:17.710+01:00  INFO 35336 --- [http-nio-8080-exec-1] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:18.208+01:00 DEBUG 35336 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:18.208+01:00 DEBUG 35336 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:18.225+01:00  INFO 35336 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:18.266+01:00  INFO 35336 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:18.861+01:00 DEBUG 35336 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:18.861+01:00 DEBUG 35336 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:18.931+01:00  INFO 35336 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:18.964+01:00  INFO 35336 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:19.511+01:00 DEBUG 35336 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:19.511+01:00 DEBUG 35336 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:19.527+01:00  INFO 35336 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:19.582+01:00  INFO 35336 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:20.208+01:00 DEBUG 35336 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:20.208+01:00 DEBUG 35336 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:20.263+01:00  INFO 35336 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:20.294+01:00  INFO 35336 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:20.779+01:00 DEBUG 35336 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:20.779+01:00 DEBUG 35336 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:20.821+01:00  INFO 35336 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:20.852+01:00  INFO 35336 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:21.309+01:00 DEBUG 35336 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:21.309+01:00 DEBUG 35336 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:21.348+01:00  INFO 35336 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:21.381+01:00  INFO 35336 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:21.867+01:00 DEBUG 35336 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:21.867+01:00 DEBUG 35336 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:21.915+01:00  INFO 35336 --- [http-nio-8080-exec-4] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:21.971+01:00  INFO 35336 --- [http-nio-8080-exec-4] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:39:22.454+01:00 DEBUG 35336 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:39:22.454+01:00 DEBUG 35336 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:39:22.471+01:00  INFO 35336 --- [http-nio-8080-exec-9] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 2
2025-04-28T14:39:22.510+01:00  INFO 35336 --- [http-nio-8080-exec-9] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 2
2025-04-28T14:42:07.159+01:00 DEBUG 35336 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:42:07.159+01:00 DEBUG 35336 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:42:18.774+01:00 DEBUG 35336 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Processing request for user: user1@example.com, role: user
2025-04-28T14:42:18.774+01:00 DEBUG 35336 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext for user: user1@example.com
2025-04-28T14:42:18.830+01:00  INFO 35336 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 14
2025-04-28T14:42:18.866+01:00  INFO 35336 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Loan record updated for ID: 14
2025-04-28T14:42:18.887+01:00  INFO 35336 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Book status updated to available for book ID: 1
2025-04-28T14:49:13.870+01:00  INFO 35336 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:49:13.871+01:00  INFO 35336 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T14:49:13.873+01:00  INFO 35336 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T14:49:13.875+01:00  INFO 35336 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T14:49:13.875+01:00  INFO 35336 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T14:49:13.875+01:00  INFO 35336 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:49:13.875+01:00  INFO 35336 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T14:49:13.876+01:00  INFO 35336 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:49:13.877+01:00  INFO 35336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-28T14:49:13.881+01:00  INFO 35336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-28T14:49:27.807+01:00  INFO 35232 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 35232 (C:\Users\Administrator\Desktop\brd - 副本 (2)\target\classes started by Administrator in C:\Users\Administrator\Desktop\brd - 副本 (2))
2025-04-28T14:49:27.808+01:00 DEBUG 35232 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T14:49:27.808+01:00  INFO 35232 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T14:49:28.252+01:00  INFO 35232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T14:49:28.297+01:00  INFO 35232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2025-04-28T14:49:28.361+01:00  WARN 35232 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:49:28.362+01:00  WARN 35232 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:49:28.362+01:00  WARN 35232 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:49:28.362+01:00  WARN 35232 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:49:28.362+01:00  WARN 35232 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:49:28.362+01:00  WARN 35232 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:49:28.362+01:00  WARN 35232 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T14:49:28.363+01:00  WARN 35232 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T14:49:28.619+01:00  INFO 35232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T14:49:28.628+01:00  INFO 35232 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T14:49:28.629+01:00  INFO 35232 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T14:49:28.662+01:00  INFO 35232 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T14:49:28.662+01:00  INFO 35232 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 828 ms
2025-04-28T14:49:28.694+01:00 DEBUG 35232 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T14:49:28.759+01:00  INFO 35232 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T14:49:28.791+01:00  INFO 35232 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T14:49:28.811+01:00  INFO 35232 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T14:49:28.987+01:00  INFO 35232 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T14:49:29.006+01:00  INFO 35232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T14:49:29.311+01:00  INFO 35232 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3578a45b
2025-04-28T14:49:29.312+01:00  INFO 35232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T14:49:29.393+01:00  WARN 35232 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T14:49:29.395+01:00  WARN 35232 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T14:49:29.406+01:00  INFO 35232 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T14:49:29.848+01:00  INFO 35232 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T14:49:29.849+01:00  INFO 35232 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:49:30.190+01:00  INFO 35232 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T14:49:30.190+01:00  INFO 35232 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T14:49:30.709+01:00  WARN 35232 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T14:49:30.719+01:00  WARN 35232 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 0f144749-f35a-432b-813f-f41514cd7bcf

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T14:49:30.734+01:00  INFO 35232 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T14:49:31.060+01:00  WARN 35232 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T14:49:31.092+01:00  INFO 35232 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T14:49:31.098+01:00  INFO 35232 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T14:49:31.098+01:00  INFO 35232 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T14:49:31.099+01:00  INFO 35232 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T14:49:31.099+01:00  INFO 35232 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T14:49:31.099+01:00  INFO 35232 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T14:49:31.099+01:00  INFO 35232 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T14:49:31.099+01:00  INFO 35232 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@4fa9533f
2025-04-28T14:49:31.131+01:00  INFO 35232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T14:49:31.132+01:00  INFO 35232 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T14:49:31.132+01:00  INFO 35232 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T14:49:31.136+01:00  INFO 35232 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 3.624 seconds (process running for 3.998)
2025-04-28T14:50:50.824+01:00  INFO 35232 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-28T14:50:50.824+01:00  INFO 35232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-28T14:50:50.824+01:00  INFO 35232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-04-28T14:50:50.839+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:50:50.840+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/14/return
2025-04-28T14:50:50.840+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:50:50.840+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:50:50.871+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:50:50.871+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:50:50.872+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:50:50.872+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:50:50.873+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:50:50.942+01:00  INFO 35232 --- [http-nio-8080-exec-1] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 14
2025-04-28T14:50:51.069+01:00  INFO 35232 --- [http-nio-8080-exec-1] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 14
2025-04-28T14:50:54.208+01:00 DEBUG 35232 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:50:54.208+01:00 DEBUG 35232 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/current
2025-04-28T14:50:54.208+01:00 DEBUG 35232 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:50:54.208+01:00 DEBUG 35232 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:50:54.209+01:00 DEBUG 35232 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:50:54.210+01:00 DEBUG 35232 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:50:54.210+01:00 DEBUG 35232 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:50:54.210+01:00 DEBUG 35232 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:50:54.210+01:00 DEBUG 35232 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:50:59.585+01:00 DEBUG 35232 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:50:59.585+01:00 DEBUG 35232 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/history
2025-04-28T14:50:59.585+01:00 DEBUG 35232 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:50:59.585+01:00 DEBUG 35232 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:50:59.586+01:00 DEBUG 35232 --- [http-nio-8080-exec-4] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:50:59.587+01:00 DEBUG 35232 --- [http-nio-8080-exec-4] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:50:59.587+01:00 DEBUG 35232 --- [http-nio-8080-exec-4] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:50:59.587+01:00 DEBUG 35232 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:50:59.587+01:00 DEBUG 35232 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:51:03.596+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:51:03.596+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/current
2025-04-28T14:51:03.596+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:51:03.596+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:51:03.597+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:51:03.597+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:51:03.597+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:51:03.597+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:51:03.597+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:51:12.176+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:51:12.176+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/current
2025-04-28T14:51:12.176+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:51:12.176+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:51:12.176+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:51:12.177+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:51:12.177+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:51:12.177+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:51:12.177+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:51:37.743+01:00 DEBUG 35232 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:51:37.744+01:00 DEBUG 35232 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans
2025-04-28T14:51:37.744+01:00 DEBUG 35232 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:51:37.744+01:00 DEBUG 35232 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:51:37.744+01:00 DEBUG 35232 --- [http-nio-8080-exec-10] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:51:37.745+01:00 DEBUG 35232 --- [http-nio-8080-exec-10] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:51:37.745+01:00 DEBUG 35232 --- [http-nio-8080-exec-10] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:51:37.745+01:00 DEBUG 35232 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:51:37.745+01:00 DEBUG 35232 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:51:37.754+01:00  INFO 35232 --- [http-nio-8080-exec-10] u.a.n.t.controller.LoanController        : User user1@example.com attempting to borrow a book
2025-04-28T14:51:37.893+01:00  INFO 35232 --- [http-nio-8080-exec-10] u.a.n.team5project.service.LoanService   : Attempting to borrow book 1 for user 1
2025-04-28T14:51:38.006+01:00  INFO 35232 --- [http-nio-8080-exec-10] u.a.n.team5project.service.LoanService   : Book 1 status updated to unavailable
2025-04-28T14:51:38.052+01:00  INFO 35232 --- [http-nio-8080-exec-10] u.a.n.team5project.service.LoanService   : Loan record created successfully: Loan(id=15, userId=1, bookId=1, borrowDate=2025-04-28, returnDateEstimated=2025-05-12, returnDate=null)
2025-04-28T14:51:38.140+01:00  INFO 35232 --- [http-nio-8080-exec-10] u.a.n.t.controller.LoanController        : User user1@example.com successfully borrowed book 1
2025-04-28T14:52:02.299+01:00 DEBUG 35232 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:52:02.300+01:00 DEBUG 35232 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/current
2025-04-28T14:52:02.300+01:00 DEBUG 35232 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:52:02.300+01:00 DEBUG 35232 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:52:02.300+01:00 DEBUG 35232 --- [http-nio-8080-exec-2] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:52:02.301+01:00 DEBUG 35232 --- [http-nio-8080-exec-2] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:52:02.301+01:00 DEBUG 35232 --- [http-nio-8080-exec-2] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:52:02.301+01:00 DEBUG 35232 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:52:02.301+01:00 DEBUG 35232 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:52:06.149+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:52:06.150+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/history
2025-04-28T14:52:06.150+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:52:06.150+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T14:52:06.150+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:52:06.151+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:52:06.151+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:52:06.151+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:52:06.151+01:00 DEBUG 35232 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:55:00.437+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:55:00.437+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans
2025-04-28T14:55:00.437+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:55:00.437+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:55:00.437+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:55:00.438+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:55:00.438+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:55:00.438+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:55:00.438+01:00 DEBUG 35232 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:55:00.439+01:00  INFO 35232 --- [http-nio-8080-exec-6] u.a.n.t.controller.LoanController        : User user1@example.com attempting to borrow a book
2025-04-28T14:55:00.594+01:00  INFO 35232 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Attempting to borrow book 1 for user 1
2025-04-28T14:55:00.626+01:00  WARN 35232 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : User 1 has already borrowed book 1
2025-04-28T14:55:00.689+01:00 ERROR 35232 --- [http-nio-8080-exec-6] u.a.n.t.controller.LoanController        : Error occurred while borrowing book: 您已经借阅了这本书
2025-04-28T14:56:30.389+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:56:30.390+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans
2025-04-28T14:56:30.390+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:56:30.390+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T14:56:30.390+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T14:56:30.390+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T14:56:30.391+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T14:56:30.391+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T14:56:30.391+01:00 DEBUG 35232 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T14:56:30.392+01:00  INFO 35232 --- [http-nio-8080-exec-8] u.a.n.t.controller.LoanController        : User user1@example.com attempting to borrow a book
2025-04-28T14:56:30.503+01:00  INFO 35232 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Attempting to borrow book 2 for user 1
2025-04-28T14:56:30.614+01:00  INFO 35232 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Book 2 status updated to unavailable
2025-04-28T14:56:30.675+01:00  INFO 35232 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Loan record created successfully: Loan(id=16, userId=1, bookId=2, borrowDate=2025-04-28, returnDateEstimated=2025-05-12, returnDate=null)
2025-04-28T14:56:30.767+01:00  INFO 35232 --- [http-nio-8080-exec-8] u.a.n.t.controller.LoanController        : User user1@example.com successfully borrowed book 2
2025-04-28T14:58:05.082+01:00  INFO 35232 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:58:05.083+01:00  INFO 35232 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T14:58:05.086+01:00  INFO 35232 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T14:58:05.087+01:00  INFO 35232 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T14:58:05.087+01:00  INFO 35232 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T14:58:05.087+01:00  INFO 35232 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T14:58:05.087+01:00  INFO 35232 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T14:58:05.088+01:00  INFO 35232 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T14:58:05.089+01:00  INFO 35232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-28T14:58:05.092+01:00  INFO 35232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-28T15:01:37.367+01:00  INFO 36804 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 36804 (C:\Users\Administrator\Desktop\brd - 副本 (2)\target\classes started by Administrator in C:\Users\Administrator\Desktop\brd - 副本 (2))
2025-04-28T15:01:37.368+01:00 DEBUG 36804 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T15:01:37.368+01:00  INFO 36804 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T15:01:37.827+01:00  INFO 36804 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T15:01:37.874+01:00  INFO 36804 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2025-04-28T15:01:37.950+01:00  WARN 36804 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:01:37.950+01:00  WARN 36804 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:01:37.950+01:00  WARN 36804 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:01:37.950+01:00  WARN 36804 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:01:37.950+01:00  WARN 36804 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:01:37.950+01:00  WARN 36804 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:01:37.950+01:00  WARN 36804 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:01:37.950+01:00  WARN 36804 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T15:01:38.220+01:00  INFO 36804 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T15:01:38.231+01:00  INFO 36804 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T15:01:38.232+01:00  INFO 36804 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T15:01:38.268+01:00  INFO 36804 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T15:01:38.269+01:00  INFO 36804 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 873 ms
2025-04-28T15:01:38.303+01:00 DEBUG 36804 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T15:01:38.375+01:00  INFO 36804 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T15:01:38.406+01:00  INFO 36804 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T15:01:38.426+01:00  INFO 36804 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T15:01:38.603+01:00  INFO 36804 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T15:01:38.622+01:00  INFO 36804 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T15:01:38.888+01:00  INFO 36804 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a9c11fb
2025-04-28T15:01:38.889+01:00  INFO 36804 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T15:01:38.955+01:00  WARN 36804 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T15:01:38.957+01:00  WARN 36804 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T15:01:38.967+01:00  INFO 36804 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T15:01:39.438+01:00  INFO 36804 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T15:01:39.440+01:00  INFO 36804 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T15:01:39.810+01:00  INFO 36804 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T15:01:39.810+01:00  INFO 36804 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T15:01:40.371+01:00  WARN 36804 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T15:01:40.384+01:00  WARN 36804 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 11542bd3-d5e0-4c66-8fa3-d18be34a0a7e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T15:01:40.401+01:00  INFO 36804 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T15:01:40.792+01:00  WARN 36804 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T15:01:40.825+01:00  INFO 36804 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T15:01:40.831+01:00  INFO 36804 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T15:01:40.831+01:00  INFO 36804 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T15:01:40.832+01:00  INFO 36804 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T15:01:40.832+01:00  INFO 36804 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T15:01:40.832+01:00  INFO 36804 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T15:01:40.832+01:00  INFO 36804 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T15:01:40.832+01:00  INFO 36804 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@7e37cfcf
2025-04-28T15:01:40.863+01:00  INFO 36804 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T15:01:40.864+01:00  INFO 36804 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T15:01:40.864+01:00  INFO 36804 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T15:01:40.867+01:00  INFO 36804 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 3.811 seconds (process running for 4.202)
2025-04-28T15:02:20.018+01:00  INFO 36804 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-28T15:02:20.019+01:00  INFO 36804 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-28T15:02:20.019+01:00  INFO 36804 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-04-28T15:02:24.961+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:02:24.961+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/history
2025-04-28T15:02:24.962+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:02:24.962+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:02:24.995+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:02:24.996+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:02:24.996+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:02:24.996+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:02:24.997+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:02:29.090+01:00 DEBUG 36804 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:02:29.090+01:00 DEBUG 36804 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/current
2025-04-28T15:02:29.090+01:00 DEBUG 36804 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:02:29.090+01:00 DEBUG 36804 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:02:29.090+01:00 DEBUG 36804 --- [http-nio-8080-exec-4] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:02:29.091+01:00 DEBUG 36804 --- [http-nio-8080-exec-4] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:02:29.091+01:00 DEBUG 36804 --- [http-nio-8080-exec-4] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:02:29.091+01:00 DEBUG 36804 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:02:29.091+01:00 DEBUG 36804 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:02:36.929+01:00 DEBUG 36804 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:02:36.929+01:00 DEBUG 36804 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans
2025-04-28T15:02:36.929+01:00 DEBUG 36804 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:02:36.929+01:00 DEBUG 36804 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:02:36.930+01:00 DEBUG 36804 --- [http-nio-8080-exec-5] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:02:36.930+01:00 DEBUG 36804 --- [http-nio-8080-exec-5] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:02:36.930+01:00 DEBUG 36804 --- [http-nio-8080-exec-5] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:02:36.930+01:00 DEBUG 36804 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:02:36.930+01:00 DEBUG 36804 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:02:36.942+01:00  INFO 36804 --- [http-nio-8080-exec-5] u.a.n.t.controller.LoanController        : User user1@example.com attempting to borrow a book
2025-04-28T15:02:37.078+01:00  INFO 36804 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Attempting to borrow book 2 for user 1
2025-04-28T15:02:37.097+01:00  WARN 36804 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : User 1 has already borrowed book 2
2025-04-28T15:02:37.187+01:00 ERROR 36804 --- [http-nio-8080-exec-5] u.a.n.t.controller.LoanController        : Error occurred while borrowing book: 您已经借阅了这本书
2025-04-28T15:02:43.809+01:00 DEBUG 36804 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:02:43.809+01:00 DEBUG 36804 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans
2025-04-28T15:02:43.809+01:00 DEBUG 36804 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:02:43.809+01:00 DEBUG 36804 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:02:43.810+01:00 DEBUG 36804 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:02:43.810+01:00 DEBUG 36804 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:02:43.810+01:00 DEBUG 36804 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:02:43.810+01:00 DEBUG 36804 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:02:43.811+01:00 DEBUG 36804 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:02:43.811+01:00  INFO 36804 --- [http-nio-8080-exec-6] u.a.n.t.controller.LoanController        : User user1@example.com attempting to borrow a book
2025-04-28T15:02:43.952+01:00  INFO 36804 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Attempting to borrow book 1 for user 1
2025-04-28T15:02:43.986+01:00  WARN 36804 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : User 1 has already borrowed book 1
2025-04-28T15:02:44.045+01:00 ERROR 36804 --- [http-nio-8080-exec-6] u.a.n.t.controller.LoanController        : Error occurred while borrowing book: 您已经借阅了这本书
2025-04-28T15:02:48.062+01:00 DEBUG 36804 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:02:48.062+01:00 DEBUG 36804 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/14/return
2025-04-28T15:02:48.062+01:00 DEBUG 36804 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:02:48.062+01:00 DEBUG 36804 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:02:48.063+01:00 DEBUG 36804 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:02:48.063+01:00 DEBUG 36804 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:02:48.063+01:00 DEBUG 36804 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:02:48.063+01:00 DEBUG 36804 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:02:48.063+01:00 DEBUG 36804 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:02:48.104+01:00  INFO 36804 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 14
2025-04-28T15:02:48.171+01:00  INFO 36804 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 14
2025-04-28T15:02:52.520+01:00 DEBUG 36804 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:02:52.520+01:00 DEBUG 36804 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/categories/tagcloud
2025-04-28T15:02:52.520+01:00 DEBUG 36804 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:02:52.520+01:00 DEBUG 36804 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:02:55.500+01:00 DEBUG 36804 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:02:55.500+01:00 DEBUG 36804 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/history
2025-04-28T15:02:55.500+01:00 DEBUG 36804 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:02:55.500+01:00 DEBUG 36804 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:02:55.501+01:00 DEBUG 36804 --- [http-nio-8080-exec-9] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:02:55.501+01:00 DEBUG 36804 --- [http-nio-8080-exec-9] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:02:55.502+01:00 DEBUG 36804 --- [http-nio-8080-exec-9] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:02:55.502+01:00 DEBUG 36804 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:02:55.502+01:00 DEBUG 36804 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:02:58.438+01:00 DEBUG 36804 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:02:58.438+01:00 DEBUG 36804 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/categories/distribution
2025-04-28T15:02:58.438+01:00 DEBUG 36804 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:02:58.438+01:00 DEBUG 36804 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:03:02.104+01:00 DEBUG 36804 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:03:02.105+01:00 DEBUG 36804 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/books
2025-04-28T15:03:02.105+01:00 DEBUG 36804 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:03:02.105+01:00 DEBUG 36804 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:03:02.183+01:00  WARN 36804 --- [http-nio-8080-exec-1] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-04-28T15:03:18.313+01:00 DEBUG 36804 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:03:18.313+01:00 DEBUG 36804 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/books
2025-04-28T15:03:18.313+01:00 DEBUG 36804 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:03:18.313+01:00 DEBUG 36804 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:03:29.447+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:03:29.447+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/books
2025-04-28T15:03:29.447+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:03:29.447+01:00 DEBUG 36804 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:07:37.573+01:00  INFO 36804 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T15:07:37.574+01:00  INFO 36804 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T15:07:37.576+01:00  INFO 36804 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T15:07:37.577+01:00  INFO 36804 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T15:07:37.577+01:00  INFO 36804 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T15:07:37.578+01:00  INFO 36804 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T15:07:37.578+01:00  INFO 36804 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T15:07:37.579+01:00  INFO 36804 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T15:07:37.580+01:00  INFO 36804 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-28T15:07:37.585+01:00  INFO 36804 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-28T15:08:22.053+01:00  INFO 37628 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 37628 (C:\Users\Administrator\Desktop\brd - 副本 (2)\target\classes started by Administrator in C:\Users\Administrator\Desktop\brd - 副本 (2))
2025-04-28T15:08:22.054+01:00 DEBUG 37628 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T15:08:22.055+01:00  INFO 37628 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T15:08:22.479+01:00  INFO 37628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T15:08:22.523+01:00  INFO 37628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2025-04-28T15:08:22.600+01:00  WARN 37628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:08:22.600+01:00  WARN 37628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:08:22.601+01:00  WARN 37628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:08:22.601+01:00  WARN 37628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:08:22.601+01:00  WARN 37628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:08:22.601+01:00  WARN 37628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:08:22.601+01:00  WARN 37628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:08:22.601+01:00  WARN 37628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T15:08:22.897+01:00  INFO 37628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T15:08:22.908+01:00  INFO 37628 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T15:08:22.908+01:00  INFO 37628 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T15:08:22.950+01:00  INFO 37628 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T15:08:22.950+01:00  INFO 37628 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 870 ms
2025-04-28T15:08:22.989+01:00 DEBUG 37628 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T15:08:23.079+01:00  INFO 37628 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T15:08:23.117+01:00  INFO 37628 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T15:08:23.141+01:00  INFO 37628 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T15:08:23.367+01:00  INFO 37628 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T15:08:23.388+01:00  INFO 37628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T15:08:23.699+01:00  INFO 37628 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@92fd091
2025-04-28T15:08:23.700+01:00  INFO 37628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T15:08:23.763+01:00  WARN 37628 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T15:08:23.766+01:00  WARN 37628 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T15:08:23.776+01:00  INFO 37628 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T15:08:24.275+01:00  INFO 37628 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T15:08:24.276+01:00  INFO 37628 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T15:08:24.651+01:00  INFO 37628 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T15:08:24.651+01:00  INFO 37628 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T15:08:25.232+01:00  WARN 37628 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T15:08:25.247+01:00  WARN 37628 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ae8a2a33-10e8-4ce4-9d4d-4472c744e81e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T15:08:25.265+01:00  INFO 37628 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T15:08:25.585+01:00  WARN 37628 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T15:08:25.620+01:00  INFO 37628 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T15:08:25.627+01:00  INFO 37628 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T15:08:25.627+01:00  INFO 37628 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T15:08:25.628+01:00  INFO 37628 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T15:08:25.628+01:00  INFO 37628 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T15:08:25.628+01:00  INFO 37628 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T15:08:25.628+01:00  INFO 37628 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T15:08:25.628+01:00  INFO 37628 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@1261fd82
2025-04-28T15:08:25.663+01:00  INFO 37628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T15:08:25.664+01:00  INFO 37628 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T15:08:25.664+01:00  INFO 37628 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T15:08:25.669+01:00  INFO 37628 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 3.905 seconds (process running for 4.265)
2025-04-28T15:09:01.430+01:00  INFO 37628 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-28T15:09:01.430+01:00  INFO 37628 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-28T15:09:01.430+01:00  INFO 37628 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-04-28T15:09:01.443+01:00 DEBUG 37628 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:01.443+01:00 DEBUG 37628 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans
2025-04-28T15:09:01.443+01:00 DEBUG 37628 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:01.443+01:00 DEBUG 37628 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:01.475+01:00 DEBUG 37628 --- [http-nio-8080-exec-1] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:09:01.476+01:00 DEBUG 37628 --- [http-nio-8080-exec-1] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:09:01.476+01:00 DEBUG 37628 --- [http-nio-8080-exec-1] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:09:01.476+01:00 DEBUG 37628 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:09:01.477+01:00 DEBUG 37628 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:09:01.504+01:00  INFO 37628 --- [http-nio-8080-exec-1] u.a.n.t.controller.LoanController        : User user1@example.com attempting to borrow a book
2025-04-28T15:09:01.657+01:00  INFO 37628 --- [http-nio-8080-exec-1] u.a.n.team5project.service.LoanService   : Attempting to borrow book 1 for user 1
2025-04-28T15:09:01.759+01:00  WARN 37628 --- [http-nio-8080-exec-1] u.a.n.team5project.service.LoanService   : User 1 has already borrowed book 1
2025-04-28T15:09:01.836+01:00 ERROR 37628 --- [http-nio-8080-exec-1] u.a.n.t.controller.LoanController        : Error occurred while borrowing book: 您已经借阅了这本书
2025-04-28T15:09:05.940+01:00 DEBUG 37628 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:05.940+01:00 DEBUG 37628 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans
2025-04-28T15:09:05.940+01:00 DEBUG 37628 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:05.940+01:00 DEBUG 37628 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:05.941+01:00 DEBUG 37628 --- [http-nio-8080-exec-3] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:09:05.941+01:00 DEBUG 37628 --- [http-nio-8080-exec-3] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:09:05.942+01:00 DEBUG 37628 --- [http-nio-8080-exec-3] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:09:05.942+01:00 DEBUG 37628 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:09:05.942+01:00 DEBUG 37628 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:09:05.943+01:00  INFO 37628 --- [http-nio-8080-exec-3] u.a.n.t.controller.LoanController        : User user1@example.com attempting to borrow a book
2025-04-28T15:09:06.054+01:00  INFO 37628 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Attempting to borrow book 3 for user 1
2025-04-28T15:09:06.113+01:00  INFO 37628 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Book 3 status updated to unavailable
2025-04-28T15:09:06.167+01:00  INFO 37628 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Loan record created successfully: Loan(id=17, userId=1, bookId=3, borrowDate=2025-04-28, returnDateEstimated=2025-05-12, returnDate=null)
2025-04-28T15:09:06.269+01:00  INFO 37628 --- [http-nio-8080-exec-3] u.a.n.t.controller.LoanController        : User user1@example.com successfully borrowed book 3
2025-04-28T15:09:11.387+01:00 DEBUG 37628 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:11.387+01:00 DEBUG 37628 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/14/return
2025-04-28T15:09:11.387+01:00 DEBUG 37628 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:11.387+01:00 DEBUG 37628 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:11.388+01:00 DEBUG 37628 --- [http-nio-8080-exec-2] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:09:11.388+01:00 DEBUG 37628 --- [http-nio-8080-exec-2] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:09:11.388+01:00 DEBUG 37628 --- [http-nio-8080-exec-2] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:09:11.388+01:00 DEBUG 37628 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:09:11.388+01:00 DEBUG 37628 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:09:11.439+01:00  INFO 37628 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 14
2025-04-28T15:09:11.504+01:00  INFO 37628 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 14
2025-04-28T15:09:17.344+01:00 DEBUG 37628 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:17.345+01:00 DEBUG 37628 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/3/return
2025-04-28T15:09:17.345+01:00 DEBUG 37628 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:17.345+01:00 DEBUG 37628 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:17.345+01:00 DEBUG 37628 --- [http-nio-8080-exec-5] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:09:17.346+01:00 DEBUG 37628 --- [http-nio-8080-exec-5] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:09:17.346+01:00 DEBUG 37628 --- [http-nio-8080-exec-5] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:09:17.346+01:00 DEBUG 37628 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:09:17.346+01:00 DEBUG 37628 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:09:17.399+01:00  INFO 37628 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 3
2025-04-28T15:09:17.430+01:00  INFO 37628 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 3
2025-04-28T15:09:24.756+01:00 DEBUG 37628 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:09:24.756+01:00 DEBUG 37628 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/current
2025-04-28T15:09:24.756+01:00 DEBUG 37628 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:09:24.756+01:00 DEBUG 37628 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:09:24.757+01:00 DEBUG 37628 --- [http-nio-8080-exec-10] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:09:24.757+01:00 DEBUG 37628 --- [http-nio-8080-exec-10] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:09:24.758+01:00 DEBUG 37628 --- [http-nio-8080-exec-10] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:09:24.758+01:00 DEBUG 37628 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:09:24.758+01:00 DEBUG 37628 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:09:39.847+01:00 DEBUG 37628 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:39.847+01:00 DEBUG 37628 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/3/return
2025-04-28T15:09:39.847+01:00 DEBUG 37628 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:39.847+01:00 DEBUG 37628 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:39.848+01:00 DEBUG 37628 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:09:39.848+01:00 DEBUG 37628 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:09:39.849+01:00 DEBUG 37628 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:09:39.849+01:00 DEBUG 37628 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:09:39.849+01:00 DEBUG 37628 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:09:39.904+01:00  INFO 37628 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 3
2025-04-28T15:09:39.936+01:00  INFO 37628 --- [http-nio-8080-exec-7] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 3
2025-04-28T15:09:42.371+01:00 DEBUG 37628 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:42.371+01:00 DEBUG 37628 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/3/return
2025-04-28T15:09:42.371+01:00 DEBUG 37628 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:42.371+01:00 DEBUG 37628 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:42.371+01:00 DEBUG 37628 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:09:42.372+01:00 DEBUG 37628 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:09:42.372+01:00 DEBUG 37628 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:09:42.372+01:00 DEBUG 37628 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:09:42.372+01:00 DEBUG 37628 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:09:42.425+01:00  INFO 37628 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 3
2025-04-28T15:09:42.475+01:00  INFO 37628 --- [http-nio-8080-exec-8] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 3
2025-04-28T15:09:43.326+01:00 DEBUG 37628 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:43.326+01:00 DEBUG 37628 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/3/return
2025-04-28T15:09:43.326+01:00 DEBUG 37628 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:43.326+01:00 DEBUG 37628 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:43.327+01:00 DEBUG 37628 --- [http-nio-8080-exec-9] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:09:43.327+01:00 DEBUG 37628 --- [http-nio-8080-exec-9] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:09:43.327+01:00 DEBUG 37628 --- [http-nio-8080-exec-9] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:09:43.327+01:00 DEBUG 37628 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:09:43.327+01:00 DEBUG 37628 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:09:43.366+01:00  INFO 37628 --- [http-nio-8080-exec-9] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 3
2025-04-28T15:09:43.399+01:00  INFO 37628 --- [http-nio-8080-exec-9] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 3
2025-04-28T15:09:56.967+01:00 DEBUG 37628 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:56.967+01:00 DEBUG 37628 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/15/return
2025-04-28T15:09:56.967+01:00 DEBUG 37628 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:56.967+01:00 DEBUG 37628 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:09:56.968+01:00 DEBUG 37628 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:09:56.968+01:00 DEBUG 37628 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:09:56.968+01:00 DEBUG 37628 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:09:56.968+01:00 DEBUG 37628 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:09:56.968+01:00 DEBUG 37628 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:09:57.016+01:00  INFO 37628 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 15
2025-04-28T15:09:57.049+01:00  INFO 37628 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Loan record updated for ID: 15
2025-04-28T15:09:57.080+01:00  INFO 37628 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Book status updated to available for book ID: 1
2025-04-28T15:10:39.255+01:00  INFO 37628 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T15:10:39.256+01:00  INFO 37628 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T15:10:39.258+01:00  INFO 37628 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T15:10:39.260+01:00  INFO 37628 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T15:10:39.260+01:00  INFO 37628 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T15:10:39.260+01:00  INFO 37628 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T15:10:39.260+01:00  INFO 37628 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T15:10:39.261+01:00  INFO 37628 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T15:10:39.262+01:00  INFO 37628 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-28T15:10:39.266+01:00  INFO 37628 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-28T15:37:48.850+01:00  INFO 28736 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 28736 (C:\Users\Administrator\Desktop\!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\brd - 副本 (2)\target\classes started by Administrator in C:\Users\Administrator\Desktop\!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\brd - 副本 (2))
2025-04-28T15:37:48.851+01:00 DEBUG 28736 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T15:37:48.852+01:00  INFO 28736 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T15:37:49.588+01:00  INFO 28736 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T15:37:49.630+01:00  INFO 28736 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2025-04-28T15:37:49.695+01:00  WARN 28736 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:37:49.696+01:00  WARN 28736 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:37:49.696+01:00  WARN 28736 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:37:49.696+01:00  WARN 28736 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:37:49.696+01:00  WARN 28736 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:37:49.696+01:00  WARN 28736 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:37:49.696+01:00  WARN 28736 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T15:37:49.696+01:00  WARN 28736 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T15:37:49.957+01:00  INFO 28736 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T15:37:49.966+01:00  INFO 28736 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T15:37:49.966+01:00  INFO 28736 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T15:37:50.001+01:00  INFO 28736 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T15:37:50.001+01:00  INFO 28736 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1121 ms
2025-04-28T15:37:50.031+01:00 DEBUG 28736 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T15:37:50.096+01:00  INFO 28736 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T15:37:50.125+01:00  INFO 28736 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T15:37:50.144+01:00  INFO 28736 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T15:37:50.326+01:00  INFO 28736 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T15:37:50.345+01:00  INFO 28736 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T15:37:50.620+01:00  INFO 28736 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@35fb3209
2025-04-28T15:37:50.621+01:00  INFO 28736 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T15:37:50.684+01:00  WARN 28736 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T15:37:50.686+01:00  WARN 28736 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T15:37:50.697+01:00  INFO 28736 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T15:37:51.170+01:00  INFO 28736 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T15:37:51.172+01:00  INFO 28736 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T15:37:51.551+01:00  INFO 28736 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T15:37:51.552+01:00  INFO 28736 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T15:37:52.117+01:00  WARN 28736 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T15:37:52.126+01:00  WARN 28736 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ca734ce6-5ae6-4f31-8b36-2263cc5d3d04

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T15:37:52.140+01:00  INFO 28736 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T15:37:52.447+01:00  WARN 28736 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T15:37:52.482+01:00  INFO 28736 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T15:37:52.489+01:00  INFO 28736 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T15:37:52.489+01:00  INFO 28736 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T15:37:52.490+01:00  INFO 28736 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T15:37:52.490+01:00  INFO 28736 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T15:37:52.490+01:00  INFO 28736 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T15:37:52.490+01:00  INFO 28736 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T15:37:52.491+01:00  INFO 28736 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@6626ae40
2025-04-28T15:37:52.522+01:00  INFO 28736 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T15:37:52.523+01:00  INFO 28736 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T15:37:52.524+01:00  INFO 28736 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T15:37:52.527+01:00  INFO 28736 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 4.004 seconds (process running for 4.498)
2025-04-28T15:38:08.327+01:00  INFO 28736 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-28T15:38:08.327+01:00  INFO 28736 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-28T15:38:08.327+01:00  INFO 28736 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-04-28T15:38:08.342+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:08.342+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans
2025-04-28T15:38:08.342+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:08.342+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:08.374+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:38:08.375+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:38:08.375+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:38:08.376+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:38:08.376+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:38:08.404+01:00  INFO 28736 --- [http-nio-8080-exec-2] u.a.n.t.controller.LoanController        : User user1@example.com attempting to borrow a book
2025-04-28T15:38:08.576+01:00  INFO 28736 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : Attempting to borrow book 3 for user 1
2025-04-28T15:38:08.681+01:00  WARN 28736 --- [http-nio-8080-exec-2] u.a.n.team5project.service.LoanService   : User 1 has already borrowed book 3
2025-04-28T15:38:08.756+01:00 ERROR 28736 --- [http-nio-8080-exec-2] u.a.n.t.controller.LoanController        : Error occurred while borrowing book: You have already borrowed this book
2025-04-28T15:38:16.815+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:16.815+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/15/return
2025-04-28T15:38:16.815+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:16.815+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:16.816+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:38:16.816+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:38:16.817+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:38:16.817+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:38:16.817+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:38:16.872+01:00  INFO 28736 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 15
2025-04-28T15:38:16.940+01:00  INFO 28736 --- [http-nio-8080-exec-6] u.a.n.team5project.service.LoanService   : Book already returned for loan ID: 15
2025-04-28T15:38:21.730+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:38:21.730+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/current
2025-04-28T15:38:21.730+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:38:21.730+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:38:21.731+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:38:21.731+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:38:21.732+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:38:21.732+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:38:21.732+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:38:30.758+01:00 DEBUG 28736 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:30.758+01:00 DEBUG 28736 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/17/return
2025-04-28T15:38:30.758+01:00 DEBUG 28736 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:30.758+01:00 DEBUG 28736 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:30.759+01:00 DEBUG 28736 --- [http-nio-8080-exec-5] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:38:30.759+01:00 DEBUG 28736 --- [http-nio-8080-exec-5] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:38:30.760+01:00 DEBUG 28736 --- [http-nio-8080-exec-5] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:38:30.760+01:00 DEBUG 28736 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:38:30.760+01:00 DEBUG 28736 --- [http-nio-8080-exec-5] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:38:30.814+01:00  INFO 28736 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Processing return for loan ID: 17
2025-04-28T15:38:30.851+01:00  INFO 28736 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Loan record updated for ID: 17
2025-04-28T15:38:30.873+01:00  INFO 28736 --- [http-nio-8080-exec-5] u.a.n.team5project.service.LoanService   : Book status updated to available for book ID: 3
2025-04-28T15:38:35.456+01:00 DEBUG 28736 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:35.456+01:00 DEBUG 28736 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans
2025-04-28T15:38:35.456+01:00 DEBUG 28736 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:35.456+01:00 DEBUG 28736 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ3MjE1LCJleHAiOjE3NDU5MzM2MTV9.r74U6cxkCbLsooj-JjdZ5saghhHrqwTTy-1ti6_TtJcaUeqDkFzUAv01EC7TLMLJ8ul41xZZwvybp1AoiFjnyw
2025-04-28T15:38:35.457+01:00 DEBUG 28736 --- [http-nio-8080-exec-3] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:38:35.457+01:00 DEBUG 28736 --- [http-nio-8080-exec-3] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:38:35.458+01:00 DEBUG 28736 --- [http-nio-8080-exec-3] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:38:35.458+01:00 DEBUG 28736 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:38:35.458+01:00 DEBUG 28736 --- [http-nio-8080-exec-3] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:38:35.459+01:00  INFO 28736 --- [http-nio-8080-exec-3] u.a.n.t.controller.LoanController        : User user1@example.com attempting to borrow a book
2025-04-28T15:38:35.571+01:00  INFO 28736 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Attempting to borrow book 3 for user 1
2025-04-28T15:38:35.637+01:00  INFO 28736 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Book 3 status updated to unavailable
2025-04-28T15:38:35.663+01:00  INFO 28736 --- [http-nio-8080-exec-3] u.a.n.team5project.service.LoanService   : Loan record created successfully: Loan(id=18, userId=1, bookId=3, borrowDate=2025-04-28, returnDateEstimated=2025-05-12, returnDate=null)
2025-04-28T15:38:35.744+01:00  INFO 28736 --- [http-nio-8080-exec-3] u.a.n.t.controller.LoanController        : User user1@example.com successfully borrowed book 3
2025-04-28T15:38:38.733+01:00 DEBUG 28736 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:38:38.733+01:00 DEBUG 28736 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/current
2025-04-28T15:38:38.733+01:00 DEBUG 28736 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:38:38.733+01:00 DEBUG 28736 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:38:38.734+01:00 DEBUG 28736 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:38:38.734+01:00 DEBUG 28736 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:38:38.734+01:00 DEBUG 28736 --- [http-nio-8080-exec-7] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:38:38.734+01:00 DEBUG 28736 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:38:38.734+01:00 DEBUG 28736 --- [http-nio-8080-exec-7] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:38:41.014+01:00 DEBUG 28736 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:38:41.014+01:00 DEBUG 28736 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/loans/history
2025-04-28T15:38:41.016+01:00 DEBUG 28736 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:38:41.016+01:00 DEBUG 28736 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : JWT token found: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyMUBleGFtcGxlLmNvbSIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ1ODQ1NTc3LCJleHAiOjE3NDU5MzE5Nzd9.wO2t9EP_RL7hn994YVnPVuVWjMeKs24lEYsI9U9tGjVS8i1KrgVmCGIyFF9XP10UvaoccgYNbhJaryyYzbk32Q
2025-04-28T15:38:41.016+01:00 DEBUG 28736 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : JWT token validation successful
2025-04-28T15:38:41.016+01:00 DEBUG 28736 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : Extracted username from token: user1@example.com
2025-04-28T15:38:41.017+01:00 DEBUG 28736 --- [http-nio-8080-exec-8] uk.ac.ncl.team5project.util.JwtUtil      : Extracted role from token: user
2025-04-28T15:38:41.017+01:00 DEBUG 28736 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Valid JWT token - Username: user1@example.com, Role: user
2025-04-28T15:38:41.017+01:00 DEBUG 28736 --- [http-nio-8080-exec-8] u.a.n.t.config.JwtAuthenticationFilter   : Authentication set in SecurityContext
2025-04-28T15:38:45.803+01:00 DEBUG 28736 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:38:45.803+01:00 DEBUG 28736 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/categories/tagcloud
2025-04-28T15:38:45.803+01:00 DEBUG 28736 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:38:45.803+01:00 DEBUG 28736 --- [http-nio-8080-exec-9] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:38:49.185+01:00 DEBUG 28736 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:38:49.185+01:00 DEBUG 28736 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/categories/distribution
2025-04-28T15:38:49.185+01:00 DEBUG 28736 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:38:49.185+01:00 DEBUG 28736 --- [http-nio-8080-exec-10] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:38:52.585+01:00 DEBUG 28736 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:38:52.585+01:00 DEBUG 28736 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/books
2025-04-28T15:38:52.585+01:00 DEBUG 28736 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:38:52.585+01:00 DEBUG 28736 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:38:52.664+01:00  WARN 28736 --- [http-nio-8080-exec-1] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-04-28T15:38:55.832+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:38:55.832+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/books
2025-04-28T15:38:55.832+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:38:55.832+01:00 DEBUG 28736 --- [http-nio-8080-exec-2] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:38:59.259+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:38:59.259+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/books
2025-04-28T15:38:59.259+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:38:59.259+01:00 DEBUG 28736 --- [http-nio-8080-exec-6] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T15:39:01.722+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T15:39:01.722+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/books/1
2025-04-28T15:39:01.722+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T15:39:01.722+01:00 DEBUG 28736 --- [http-nio-8080-exec-4] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T17:18:29.788+01:00  INFO 35245 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 35245 (/Users/yaomenghui/BackEnd/BackEnd/target/classes started by yaomenghui in /Users/yaomenghui/BackEnd/BackEnd)
2025-04-28T17:18:29.789+01:00 DEBUG 35245 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T17:18:29.789+01:00  INFO 35245 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T17:18:30.136+01:00  INFO 35245 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T17:18:30.167+01:00  INFO 35245 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2025-04-28T17:18:30.211+01:00  WARN 35245 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:18:30.211+01:00  WARN 35245 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:18:30.211+01:00  WARN 35245 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:18:30.212+01:00  WARN 35245 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:18:30.212+01:00  WARN 35245 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:18:30.212+01:00  WARN 35245 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:18:30.212+01:00  WARN 35245 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:18:30.212+01:00  WARN 35245 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T17:18:30.411+01:00  INFO 35245 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T17:18:30.422+01:00  INFO 35245 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T17:18:30.422+01:00  INFO 35245 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T17:18:30.446+01:00  INFO 35245 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T17:18:30.446+01:00  INFO 35245 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 628 ms
2025-04-28T17:18:30.471+01:00 DEBUG 35245 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T17:18:30.520+01:00  INFO 35245 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T17:18:30.544+01:00  INFO 35245 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T17:18:30.557+01:00  INFO 35245 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T17:18:30.668+01:00  INFO 35245 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T17:18:30.682+01:00  INFO 35245 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T17:18:31.736+01:00  WARN 35245 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2025-04-28T17:18:31.737+01:00 ERROR 35245 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2025-04-28T17:18:31.737+01:00  WARN 35245 --- [main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:320) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at uk.ac.ncl.team5project.Team5ProjectApplication.main(Team5ProjectApplication.java:29) ~[classes/:na]
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:165) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:55) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:837) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:420) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:238) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:180) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:467) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	... 35 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:52) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:95) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:140) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:156) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:79) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:142) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:961) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	... 48 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:751) ~[na:na]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:144) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:53) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	... 51 common frames omitted

2025-04-28T17:18:31.766+01:00  WARN 35245 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T17:18:31.771+01:00  INFO 35245 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (null)']
	Database driver: undefined/unknown
	Database version: 10.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T17:18:32.133+01:00  INFO 35245 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T17:18:32.134+01:00  INFO 35245 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T17:18:32.409+01:00  INFO 35245 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T17:18:32.409+01:00  INFO 35245 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T17:18:32.886+01:00  WARN 35245 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T17:18:32.897+01:00  WARN 35245 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 6287b36d-c826-43c1-8bd9-5e9565af4303

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T17:18:32.910+01:00  INFO 35245 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T17:18:33.109+01:00  WARN 35245 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T17:18:33.135+01:00  INFO 35245 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T17:18:33.143+01:00  INFO 35245 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T17:18:33.143+01:00  INFO 35245 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T17:18:33.144+01:00  INFO 35245 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T17:18:33.144+01:00  INFO 35245 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T17:18:33.144+01:00  INFO 35245 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T17:18:33.144+01:00  INFO 35245 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T17:18:33.144+01:00  INFO 35245 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@2c4af3ae
2025-04-28T17:18:33.170+01:00  INFO 35245 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T17:18:33.170+01:00  INFO 35245 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T17:18:33.170+01:00  INFO 35245 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T17:18:33.175+01:00  INFO 35245 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 3.577 seconds (process running for 9.069)
2025-04-28T17:20:39.401+01:00  INFO 35245 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T17:20:39.404+01:00  INFO 35245 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T17:20:39.408+01:00  INFO 35245 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T17:20:39.410+01:00  INFO 35245 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T17:20:39.410+01:00  INFO 35245 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T17:20:39.410+01:00  INFO 35245 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T17:20:39.410+01:00  INFO 35245 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T17:20:39.412+01:00  INFO 35245 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T17:20:45.561+01:00  INFO 35640 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 35640 (/Users/yaomenghui/BackEnd/BackEnd/target/classes started by yaomenghui in /Users/yaomenghui/BackEnd/BackEnd)
2025-04-28T17:20:45.561+01:00 DEBUG 35640 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T17:20:45.561+01:00  INFO 35640 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T17:20:45.828+01:00  INFO 35640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T17:20:45.856+01:00  INFO 35640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-04-28T17:20:45.898+01:00  WARN 35640 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:20:45.898+01:00  WARN 35640 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:20:45.898+01:00  WARN 35640 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:20:45.898+01:00  WARN 35640 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:20:45.898+01:00  WARN 35640 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:20:45.898+01:00  WARN 35640 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:20:45.899+01:00  WARN 35640 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:20:45.899+01:00  WARN 35640 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T17:20:46.055+01:00  INFO 35640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T17:20:46.061+01:00  INFO 35640 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T17:20:46.062+01:00  INFO 35640 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T17:20:46.082+01:00  INFO 35640 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T17:20:46.082+01:00  INFO 35640 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 506 ms
2025-04-28T17:20:46.108+01:00 DEBUG 35640 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T17:20:46.152+01:00  INFO 35640 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T17:20:46.171+01:00  INFO 35640 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T17:20:46.181+01:00  INFO 35640 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T17:20:46.272+01:00  INFO 35640 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T17:20:46.284+01:00  INFO 35640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T17:20:46.512+01:00  INFO 35640 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e7cd0df
2025-04-28T17:20:46.514+01:00  INFO 35640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T17:20:46.606+01:00  WARN 35640 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T17:20:46.608+01:00  WARN 35640 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T17:20:46.618+01:00  INFO 35640 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T17:20:46.902+01:00  INFO 35640 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T17:20:46.903+01:00  INFO 35640 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T17:20:47.127+01:00  INFO 35640 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T17:20:47.128+01:00  INFO 35640 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T17:20:47.560+01:00  WARN 35640 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T17:20:47.568+01:00  WARN 35640 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: a9fb351c-a555-472b-8e60-09ce65b9abb1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T17:20:47.578+01:00  INFO 35640 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T17:20:47.771+01:00  WARN 35640 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T17:20:47.794+01:00  INFO 35640 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T17:20:47.799+01:00  INFO 35640 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T17:20:47.799+01:00  INFO 35640 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T17:20:47.799+01:00  INFO 35640 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T17:20:47.799+01:00  INFO 35640 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T17:20:47.799+01:00  INFO 35640 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T17:20:47.799+01:00  INFO 35640 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T17:20:47.799+01:00  INFO 35640 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@2e95d163
2025-04-28T17:20:47.823+01:00  INFO 35640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T17:20:47.824+01:00  INFO 35640 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T17:20:47.824+01:00  INFO 35640 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T17:20:47.829+01:00  INFO 35640 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 2.416 seconds (process running for 7.748)
2025-04-28T17:24:22.451+01:00  INFO 35640 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T17:24:22.454+01:00  INFO 35640 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T17:24:22.457+01:00  INFO 35640 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T17:24:22.459+01:00  INFO 35640 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T17:24:22.459+01:00  INFO 35640 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T17:24:22.459+01:00  INFO 35640 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T17:24:22.459+01:00  INFO 35640 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T17:24:22.461+01:00  INFO 35640 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T17:24:22.464+01:00  INFO 35640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-28T17:24:22.470+01:00  INFO 35640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-28T17:24:29.510+01:00  INFO 35696 --- [main] u.a.n.t.Team5ProjectApplication          : Starting Team5ProjectApplication using Java 21.0.6 with PID 35696 (/Users/yaomenghui/BackEnd/BackEnd/target/classes started by yaomenghui in /Users/yaomenghui/BackEnd/BackEnd)
2025-04-28T17:24:29.510+01:00 DEBUG 35696 --- [main] u.a.n.t.Team5ProjectApplication          : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-28T17:24:29.510+01:00  INFO 35696 --- [main] u.a.n.t.Team5ProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-28T17:24:29.791+01:00  INFO 35696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-28T17:24:29.821+01:00  INFO 35696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 2 JPA repository interfaces.
2025-04-28T17:24:29.864+01:00  WARN 35696 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'adminMapper' and 'uk.ac.ncl.team5project.mapper.AdminMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:24:29.864+01:00  WARN 35696 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'authorMapper' and 'uk.ac.ncl.team5project.mapper.AuthorMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:24:29.864+01:00  WARN 35696 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'basketMapper' and 'uk.ac.ncl.team5project.mapper.BasketMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:24:29.864+01:00  WARN 35696 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'bookMapper' and 'uk.ac.ncl.team5project.mapper.BookMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:24:29.864+01:00  WARN 35696 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'reviewMapper' and 'uk.ac.ncl.team5project.mapper.ReviewMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:24:29.864+01:00  WARN 35696 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'uk.ac.ncl.team5project.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:24:29.864+01:00  WARN 35696 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'wishlistMapper' and 'uk.ac.ncl.team5project.mapper.WishlistMapper' mapperInterface. Bean already defined with the same name!
2025-04-28T17:24:29.864+01:00  WARN 35696 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[uk.ac.ncl.team5project.mapper]' package. Please check your configuration.
2025-04-28T17:24:30.028+01:00  INFO 35696 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-28T17:24:30.036+01:00  INFO 35696 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-28T17:24:30.036+01:00  INFO 35696 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-28T17:24:30.057+01:00  INFO 35696 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-28T17:24:30.057+01:00  INFO 35696 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 532 ms
2025-04-28T17:24:30.083+01:00 DEBUG 35696 --- [main] u.a.n.t.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-28T17:24:30.128+01:00  INFO 35696 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-28T17:24:30.147+01:00  INFO 35696 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-28T17:24:30.157+01:00  INFO 35696 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-28T17:24:30.248+01:00  INFO 35696 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-28T17:24:30.260+01:00  INFO 35696 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-28T17:24:30.465+01:00  INFO 35696 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56f2c9e8
2025-04-28T17:24:30.466+01:00  INFO 35696 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-28T17:24:30.551+01:00  WARN 35696 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 8.0.41 version for [org.hibernate.dialect.MariaDBDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 10.4.0. Check the community dialects project for available legacy versions.
2025-04-28T17:24:30.553+01:00  WARN 35696 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-28T17:24:30.561+01:00  INFO 35696 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-28T17:24:30.845+01:00  INFO 35696 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-28T17:24:30.846+01:00  INFO 35696 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T17:24:31.055+01:00  INFO 35696 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : JSqlParser is in classpath; If applicable, JSqlParser will be used.
2025-04-28T17:24:31.055+01:00  INFO 35696 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-28T17:24:31.520+01:00  WARN 35696 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-28T17:24:31.527+01:00  WARN 35696 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: b5a109ba-c3ad-418f-91d2-2456cafd26df

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-28T17:24:31.537+01:00  INFO 35696 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-28T17:24:31.728+01:00  WARN 35696 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location: [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.check-template-location=false)
2025-04-28T17:24:31.752+01:00  INFO 35696 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-04-28T17:24:31.757+01:00  INFO 35696 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-04-28T17:24:31.757+01:00  INFO 35696 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2025-04-28T17:24:31.757+01:00  INFO 35696 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-04-28T17:24:31.757+01:00  INFO 35696 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-04-28T17:24:31.757+01:00  INFO 35696 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-04-28T17:24:31.757+01:00  INFO 35696 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2025-04-28T17:24:31.757+01:00  INFO 35696 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@21471ca8
2025-04-28T17:24:31.787+01:00  INFO 35696 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-28T17:24:31.788+01:00  INFO 35696 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-04-28T17:24:31.788+01:00  INFO 35696 --- [main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-04-28T17:24:31.793+01:00  INFO 35696 --- [main] u.a.n.t.Team5ProjectApplication          : Started Team5ProjectApplication in 2.438 seconds (process running for 7.695)
2025-04-28T17:25:34.574+01:00  INFO 35696 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-28T17:25:34.574+01:00  INFO 35696 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-28T17:25:34.577+01:00  INFO 35696 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-04-28T17:25:34.596+01:00 DEBUG 35696 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Parsing JWT from Authorization header: null
2025-04-28T17:25:34.596+01:00 DEBUG 35696 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Received request for URL: http://localhost:8080/v1/reviews/selectReviewByBookId
2025-04-28T17:25:34.596+01:00 DEBUG 35696 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : Authorization header: null
2025-04-28T17:25:34.596+01:00 DEBUG 35696 --- [http-nio-8080-exec-1] u.a.n.t.config.JwtAuthenticationFilter   : No JWT token found in request
2025-04-28T17:25:52.121+01:00  INFO 35696 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T17:25:52.124+01:00  INFO 35696 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-28T17:25:52.128+01:00  INFO 35696 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-28T17:25:52.133+01:00  INFO 35696 --- [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-04-28T17:25:52.134+01:00  INFO 35696 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-28T17:25:52.134+01:00  INFO 35696 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-04-28T17:25:52.134+01:00  INFO 35696 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-04-28T17:25:52.139+01:00  INFO 35696 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-28T17:25:52.144+01:00  INFO 35696 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-28T17:25:52.151+01:00  INFO 35696 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
